# ====================================================================
# CONFIGURACIÓN GENERAL
# ====================================================================
spring.application.name=reservaciones
# Usa la variable PORT si existe (nube), si no, usa el 7076 (local)
server.port=${PORT:7076}

# ====================================================================
# CONFIGURACIÓN DE LA BASE DE DATOS (DUAL PROFILE)
# ====================================================================

# Por defecto usa tu MySQL local. En la nube, Railway inyectará las variables.
# **IMPORTANTE:** El nombre de la base de datos en Railway es 'railway' según tu imagen.
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/reservaciones}
spring.datasource.username=${DB_USER:root}
# Usa tu contraseña local como valor por defecto.
spring.datasource.password=${DB_PASSWORD:AxelDanielAdame} 
spring.datasource.driver-class-name=${DB_DRIVER:com.mysql.cj.jdbc.Driver}

# Si usas la configuración de Railway, es vital agregar los parámetros de conexión:
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/reservaciones?autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true}

# ====================================================================
# CONFIGURACIÓN DE JPA / HIBERNATE
# ====================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# ====================================================================
# CONFIGURACIÓN DE SEGURIDAD (JWT)
# ====================================================================
# Mantiene tu clave actual como default
jwt.secret.key=${JWT_SECRET:opGyeuEJuUQXXF66xUMk2iEWCS97ClNUWsaQTBW4DmTtX36E80zVcmkefu2bGyMWO+J+EmZHpZptDq57U7r4TQ==}

# ====================================================================
# EUREKA (Service Discovery) - Configuración para el microservicio
# ====================================================================
eureka.client.service-url.defaultZone=${EUREKA_URL:http://localhost:8761/eureka/}
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true